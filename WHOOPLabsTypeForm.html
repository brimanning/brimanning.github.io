<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Static HTML Demo</title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }
            html,
            body {
                width: 100%;
                height: 100%;
            }
            #form {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <div id="form" data-tf-on-submit="submit"></div>
        <script>
            // update study id hidden field with value from query params
            const urlSearchParams = new URLSearchParams(window.location.search);
            const studyId = urlSearchParams.get("study_id");
            const formId = urlSearchParams.get("form_id");
            document.getElementById("form").setAttribute("data-tf-hidden", `study_id=${studyId}`);
            document.getElementById("form").setAttribute("data-tf-widget", formId);

            // register event handler for typeform submit
            function submit(event) {
                Android.onFormSubmitted(formId);
                console.log("Submitted with response id: " + event.response_id);
            }
        </script>
        <script
            type="text/javascript"
            referrerpolicy="origin-when-cross-origin"
            src="//embed.typeform.com/next/embed.js"
        ></script>
    </body>
</html>